{
  "name": "Recovery",
  "description": "Heal and cleanse nearby allies, but harm those who emerged from the depths, at the cost of mana.",
  "type": "origins:active_self",
  "cooldown": 1800,
  "hud_render": {
    "sprite_location": "origins:textures/gui/community/huang/resource_bar_01.png",
    "bar_index": 14
    },
    "condition": {
        "type": "origins:resource",
        "resource": "*:mr/mana",
        "comparison": ">=",
        "compare_to": 70
    },
  "key": {
    "key": "key.origins.primary_active"
  },
  "entity_action": {
    "type": "origins:and",
    "actions": [
      {
        "type": "origins:play_sound",
        "sound": "minecraft:entity.warden.sonic_boom",
        "category": "master",
        "volume": 2,
        "pitch": 1.5
      },
      {
        "type": "origins:play_sound",
        "sound": "minecraft:entity.allay.ambient_with_item",
        "category": "master",
        "volume": 2,
        "pitch": 1.5
      },
      
        {
            "type": "origins:change_resource",
            "resource": "*:mr/mana",
            "change": -70
            },
                {
                "type": "origins:change_resource",
                "resource": "*:mr/manaregen_delay",
                "operation": "set",
                "change": 5
                },
      {
        "type": "origins:execute_command",
        "command": "effect give @e[distance=..12,tag=!death] minecraft:instant_health 1 1 false"
      },
      {
        "type": "origins:execute_command",
        "command": "execute as @e[distance=..12,tag=death] run damage @s[distance=..12,tag=death] 6 minecraft:on_fire"
      },
      {
        "type": "origins:execute_command",
        "command": "effect give @e[distance=..12,tag=!death] minecraft:regeneration 12 1 false"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:wither"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:darkness"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:blindness"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:nausea"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:weakness"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:poison"
      },
      {
        "type": "origins:execute_command",
        "command": "effect clear @e[distance=..12,tag=!death] minecraft:slowness"
      },
      {
        "type": "origins:execute_command",
        "command": "particle dust_color_transition{from_color:[1.0,0.87,0.0],to_color:[1.0,0.93,0.53],scale:1} ~ ~0.3 ~ 7 0 7 0.15 500 force"
      },
      {
        "type": "origins:execute_command",
        "command": "particle end_rod ~ ~0.3 ~ 7 0 7 0.15 500 force"
      },
      {
        "type": "origins:execute_command",
        "command": "particle end_rod ~ ~0.3 ~ 0.5 1 0.5 0 100 force"
      },
      {
        "type": "origins:execute_command",
        "command": "particle poof ~ ~0.3 ~ 7 0 5 0.15 500 force"
      },
      {
        "type": "origins:execute_command",
        "command": "execute at @s run function cc:recoverycircle"
      }
    ]
  }
}
